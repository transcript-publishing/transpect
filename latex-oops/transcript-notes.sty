\NeedsTeXFormat{LaTeX2e}[2018/12/01]
\ProvidesPackage{transcript-notes}[2021/04/09 transcript]\relax

\usepackage{footnote}
%\@removefromreset{footnote}{chapter}
\def\footnoterule{\ccaStructStart[Document]{footnoterule}\kern-6.4bp\hrule \@height .4bp \@width 33mm \kern 6bp\ccaStructEnd{footnoterule}} % the \hrule is .4pt high

% Entfernt \normalfont aus der Endnotendefinition des endnotes-Pakets, wodurch bspw. in Überschriften die eingestellte Schriftart auch für die Fuß-/Endnotennummer übernommen wird. 
\patchcmd{\@makeenmark}{\normalfont}{\selectfont}{}{}

% \def\@makefnmark{\smash{\textsuperscript{\@thefnmark}}}
\def\@makefnmark{\hbox{\@textsuperscript{\selectfont\@thefnmark}}}%(giovanni, 2019-07-30)
\newlength\fnumwidth
\ifx\ts@layout@type\ts@str@layout@mdw
  \fnumwidth\parindent%
\else
  \fnumwidth2em%
\fi

% Define the \urlx command which works like \url, but with line brakes
% \def\fnurlhref#1#2{\old@href{#1}{#2}}

\renewcommand\@makefntext[1]{%
  \parindent\z@%
  \leftskip\fnumwidth
  \bgroup%
    \ifx\ts@layout@type\ts@str@layout@mdw
      \rmfamily%
    \else
      \nsfwiderfamily%
    \fi%
    \hskip-\fnumwidth\hb@xt@\fnumwidth{{\ifx\ts@layout@type\ts@str@layout@mdw\rmfamily\else\nsfwiderfamily\fi\@thefnmark}\hss}%
    \let\href\fn@href%
    \justify%
    % Preserve the justified alignment for footnotes which the language changes within.
    \let\originalSelectlanguage\selectlanguage%
    \def\selectlanguage##1{\originalSelectlanguage{##1}\justify}%
    #1%
  \egroup%
}
